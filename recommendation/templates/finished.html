{% extends 'base.html' %}

{% block attachment %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/recommendation.css' %}?ver=1">
<script src="{% static 'js/recommendation.js' %}"></script>
<script>
function removeCheck() {

    if (confirm("정말 삭제하시겠습니까??") == true){    //확인
   
        document.removefrm.submit();
   
    }else{   //취소
   
        return false;
   
    }
   }
</script>
<style>
    .termbtn{
        margin-top: 30px;
    }
    
    .imgform {
        border-radius: 12px;
    }

    .form-control{
        width:10%;
        float: left;
    }

    

    
</style>
{% endblock %}

{% block contents %}
<div class="container">
    <div class="row" style='height:200px'>
        <div class="col-sm-12 bg-light text-dark" style='border-radius:24px'>
            <h1 class='text-center'>BEST REVIEW</h1>
            <div class='text-center termbtn' style="margin: top 50px">
                <a class="btn text-white" style="background-color: #000000;" href="/whitevalley/shopping/finished">완성품</a>
                <a class="btn btn-outline-dark" href="/whitevalley/shopping/tag_reviews">태그별 맞춤</a>
                <a class="btn btn-outline-dark" href="/whitevalley/shopping/reviews">상품후기</a>
            </div>
            <hr>
        </div>
    </div>
    <p></p>
    <div class="container">
        <select class="form-control">
          <option class='new_list'>최신순 ></option>
          <option class='good_list'>인기순 ></option>
          
        </select>
        
        {% if session.admin %}
        <button type="button" class="btn text-white" style='background-color: #000000; float: right;' onclick='removeCheck()'>게시글삭제</button>
        {% endif %}
    
    </div>
</div>
<br>
<div></div>
<hr style='margin-top:40px'>

{% comment %} <div class="container">
    
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        
        {% for product in products %}
        <div class="col photobox">
            {% if session.admin %}
            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"
                style='padding: 10px; display: block; margin-left:auto;'>
            {% endif %}
            <a href='#'
                onclick="window.open('/whitevalley/shopping/finished_detail/','name','resizable=no width=800 height=1000');return false">
                <img alt=""
                    src= "{{product.img}}"
                     style='margin: 10px; width:100%' class='imgform' />
                <div style='text-align:center'>옵션 : {{product.type}},{{product.size}}</div>
            </a>
        </div>
        {% endfor %}

    </div>
</div> {% endcomment %}

<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-6">
    {% for product in products %}
        <div class="col">
            <div class="card shadow-sm">
                <div class="card-body">
                    <img src="{{product.img}}" style='width:100%; height:100%' alt="">
                    <p class="card-text">옵션 : {{product.type}}/ 사이즈 : {{product.size}}</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="window.open('{% url 'Recommendation:finished_detail' product.id %}','name','resizable=no width=800 height=1000');return false">View</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">장바구니담기</button>
                        </div>
                        <small class="text-muted">조회수 : {{product.view_cnt}}</small>
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}
</div>
</div>



{% comment %} 페이징 {% endcomment %}
<ul class="pagination justify-content-center" style='margin:50px'>
   
    {% if question_list.has_previous %}
    <li class="page-item">
        <a class="page-link" href="?page={{ question_list.previous_page_number }}">이전</a>
    </li>
    {% else %}
    <li class="page-item disabled">
        <a class="page-link" tabindex="-1" aria-disabled="true" href="#">이전</a>
    </li>
    {% endif %}
    
    {% for page_number in question_list.paginator.page_range %}
    {% if page_number == question_list.number %}
    <li class="page-item active" aria-current="page">
        <a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
    </li>
    {% else %}
    <li class="page-item">
        <a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
    </li>
    {% endif %}
    {% endfor %}
    
    {% if question_list.has_next %}
    <li class="page-item">
        <a class="page-link" href="?page={{ question_list.next_page_number }}">다음</a>
    </li>
    {% else %}
    <li class="page-item disabled">
        <a class="page-link" tabindex="-1" aria-disabled="true" href="#">다음</a>
    </li>
    {% endif %}
</ul>


{% endblock %}