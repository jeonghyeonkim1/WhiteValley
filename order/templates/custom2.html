{% extends 'base.html' %}

{% block attachment %}
    {% load static %}
    <script src="/path/to/dist/panzoom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@panzoom/panzoom/dist/panzoom.min.js"></script>
    <link rel="stylesheet" href="{% static 'css/order.css' %}?ver=1">
    <script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5"></script>
    <script src="{% static 'js/order2.js' %}"></script>
{% endblock %}

{% block contents %}
    <div class="text_wrap">
        <h3>상품타입네임<br>
        <h6>해당 제품의 상세 설명과 커스텀 방법에 대해 설명해드리겠습니다.
    </div>
    <div class="custom2">
        <div class="custom1_top">
            <div class="pimg2_wrap">
                <div id="parent" class="parent" style="width:500px; height:500px; background-image:URL(https://i.ibb.co/qMR0FcY/shortw.png); background-size:cover;">
                <div id="textresult" style='position:absolute; left:400px; top:300px; cursor:pointer; cursor:hand;' onmousedown='startDrag(event, this)'></div>
                <div class="panzoom" id="panzoom-element">
                  <img src="https://i.ibb.co/gRJK53Z/caticon.png" width="200" height="200">
                </div>
            </div> 
        </div>          
            <div class="custom2_detail">
                <p id="product_type" >상품타입네임<br>
            <div class="text_contain">
                <form action="" class="form-horizontal">
                        <div id="text2_wrap" class="form-inline form-group">
                            <label for="inputtext" class="col-xs control-label" id="inputtext">Text</label>
                            <div id="text_input_wrap" class="col-sm-6">
                                <input onkeyup="printText()" type="text" id="text_input" class="form-control w-75" placeholder="15글자 이하의 텍스트" maxlength="15">
                            </div>
                            <div id="colorview_wrap">
                                <img onclick="showModal();" id='colorwheel' src="https://i.ibb.co/gvJMcpG/color-wheel.png">        
                            </div>
                             
                                <div class="modal-window">
                                    <div class="content">
                                        <div id="picker"></div>
                                        <div class="Btn"><a onclick="hideModal();" id="CustomBtn3">OK</a></div>
                                    </div>
                                </div>
                        </div>
                </form>  
            </div>
            <div class="selectpattern"> 
                <label id="selecttext" for="selecttext" class="col-xs control-label">Pattern</label>
                <select class="form-control w-25" id="selectpattern">
                    <option>모야앙1</option>
                    <option>모야앙2</option>
                    <option>모야앙3</option>
                    <option>모야앙4</option>
                </select>
            </div> 
            <div class="imageupload">
                <label class="col-xs control-label" id="imagetext">Image</label>
                <div id="imgwrap"><img src="https://img.icons8.com/ios-glyphs/344/pictures-folder.png" alt=""></div>
            </div>
            <div class="Btn"><a href="{% url 'Order:customend' %}" id="CustomBtn2">Next</a></div>
            </div>
        </div>   
       </div>
       
      
       <script>
           
        const elem = document.getElementById('panzoom-element');
                const zoomInButton = document.getElementById('zoom-in');
                const zoomOutButton = document.getElementById('zoom-out');
                const resetButton = document.getElementById('reset');
                const panzoom = Panzoom(elem);
                const parent = elem.parentElement
        // No function bind needed
        parent.addEventListener('wheel', panzoom.zoomWithWheel);
        
        
            
        
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-36251023-1']);
          _gaq.push(['_setDomainName', 'jqueryscript.net']);
          _gaq.push(['_trackPageview']);
        
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        
    
        try {
          fetch(new Request("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js", { method: 'HEAD', mode: 'no-cors' })).then(function(response) {
            return true;
          }).catch(function(e) {
            var carbonScript = document.createElement("script");
            carbonScript.src = "//cdn.carbonads.com/carbon.js?serve=CK7DKKQU&placement=wwwjqueryscriptnet";
            carbonScript.id = "_carbonads_js";
            document.getElementById("carbon-block").appendChild(carbonScript);
          });
        } catch (error) {
          console.log(error);
        }


var img_L = 0;
var img_T = 0;
var targetObj;

function getLeft(o){
     return parseInt(o.style.left.replace('px', ''));
}
function getTop(o){
     return parseInt(o.style.top.replace('px', ''));
}

// 이미지 움직이기
function moveDrag(e){
     var e_obj = window.event? window.event : e;
     var dmvx = parseInt(e_obj.clientX + img_L);
     var dmvy = parseInt(e_obj.clientY + img_T);
     targetObj.style.left = dmvx +"px";
     targetObj.style.top = dmvy +"px";
     return false;
}

// 드래그 시작
function startDrag(e, obj){
     targetObj = obj;
     var e_obj = window.event? window.event : e;
     img_L = getLeft(obj) - e_obj.clientX;
     img_T = getTop(obj) - e_obj.clientY;

     document.onmousemove = moveDrag;
     document.onmouseup = stopDrag;
     if(e_obj.preventDefault)e_obj.preventDefault();
}

function stopDrag(){
        document.onmousemove = null;
        document.onmouseup = null;
    }
       
</script>
{% endblock %}